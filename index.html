<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
  <script src="src/funcoes.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
  <link rel="stylesheet" href="src/style.css" />

  <title>Sistema de Biblioteca</title>

</head>
<body>

  <ul class="nav justify-content-center">
      <h1 id="nav-superior">
        <i class="fa-solid fa-book"></i>
        Gestão de Biblioteca
      </h1>
  </ul>


  <div class="d-flex" id="wrapper">
    <nav>
        <button onclick="mostrarSecao('secao_biblioteca')"><i class="fa-solid fa-book-bookmark"></i>  Biblioteca</button>
        <button onclick="mostrarSecao('secao_usuario')"><i class="fa-solid fa-people-group"></i>  Usuários</button>
        <button onclick="mostrarSecao('secao_autores')"><i class="fa-solid fa-pen-nib"></i>  Autores</button>
        <button class="mb-4" onclick="mostrarSecao('secao_livros')"><i class="fa-solid fa-book-open"></i>  Livros</button>

        <button class="btn btn-warning mt-4" onclick="mostrarSecao('limpar-dados')"><i class="fa-solid fa-recycle"></i>  Lixeira</button>
    </nav>
  </div>

  <div id="conteudo-principal">
      <div id="secao_biblioteca" class="secao-conteudo ativa">
            <div class="header_conteudo">
              <h2>
                <i class="fa-solid fa-book-open"></i>
                Administrar livros
              </h2>
          </div>

          <!-- Listagens livros biblioteca -->
            <div class="box_listagem mt-4">
                <h2 class="text-center"> Livros Disponíves</h2>
                <div class="listagem" id="listaLivros_biblio">
                    <input type="text" id="filtroLivro_biblio" placeholder="Filtrar livro por titulo, autor ou genero" class="form-control mt-2 mb-4">
                    <table id="tabelaLivros_biblio" class="table table-striped table-hover table-light table-bordered text-center mt-4">
                        <thead>
                        <tr>
                            <th>Título</th>
                            <th>Autor</th>
                            <th>Ano</th>
                            <th>Gênero</th>
                            <th>Status</th>
                            <th>Administrar</th>
                        </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div> 
            </div>  
            <div class="listagem mt-4">
              <h2 class="text-center">Relatório</h2>
              <button type="button" class="btn btn-primary" onclick="listarMaisEmprestados()">Verificar quantidade de emprestimo de cada livro</button>
            </div>


      </div>

      <div id="secao_usuario" class="secao-conteudo">
          <div class="header_conteudo">
              <h2>
                <i class="fa-solid fa-people-group"></i>
                Usuários
              </h2>
          </div>
          
          <div class="body_conteudo">
              <div class="container">
                  <!-- Cadastro de Autor -->
                  <div class="box">
                    <h2>Cadastrar Usuário</h2>
                    <form id="formUsuario">
                      <input type="text" placeholder="Nome" id="nomeUsuario" required  />
                      <div class="d-flex">
                          <div class="form-check">
                            <input class="form-check-input" type="radio" name="radioUsuario" id="radioProfessor" value="professor">
                            <label class="form-check-label" for="radioProfessor">
                              &nbsp;Professor
                            </label>
                          </div>
                          <div class="form-check" id="check_usuarioProfessor">
                            <input class="form-check-input" type="radio" name="radioUsuario" id="radioAluno" value="aluno" checked >
                            <label class="form-check-label" for="radioAluno">
                              &nbsp;Aluno
                            </label>
                          </div>
                      </div>
                       
                      <button type="submit">Cadastrar Usuário</button>
                    </form>
                  </div>
              

                <!-- Listagens -->                        
                 <div class="box_listagem">
                    <h2 class="text-center">Usuários Cadastrados</h2>
                      <div class="listagem" id="listaUsuario">
                          <input type="text" id="filtroUsuario" placeholder="Filtrar por nome ou matrícula" class="form-control mb-3">
                          <table id="tabelaUsuario" class="table table-striped table-hover table-light table-bordered text-center">
                          <thead>
                            <tr>
                              <th width="50">Matricula</th>
                              <th >Nome</th>
                              <th width="50"></th>
                            </tr>
                          </thead>
                          <tbody></tbody>
                        </table>
                    </div>
                </div>      
              </div>      
          </div>  

      </div>

      <div id="secao_autores" class="secao-conteudo">
          <div class="header_conteudo">
              <h2>
                <i class="fa-solid fa-pen-nib"></i>
                Autores
              </h2>
          </div>
          
          <div class="body_conteudo">
              <div class="container">
                  <!-- Cadastro de Autor -->
                  <div class="box">
                    <h2>Cadastrar Autor</h2>
                    <form id="formAutor">
                      <input type="text" placeholder="Nome" id="nomeAutor" required />
                      <input type="text" placeholder="Nacionalidade" id="nacionalidade" required />
                      <input type="number" placeholder="Ano de Nascimento" id="anoNascimento" required />
                      <button type="submit">Cadastrar Autor</button>
                    </form>
                  </div>
              

                <!-- Listagens -->                        
                 <div class="box_listagem">
                    <h2 class="text-center"> Autores Cadastrados</h2>
                      <div class="listagem" id="listaAutores">
                          <input type="text" id="filtroAutor" placeholder="Filtrar por nome ou nacionalidade" class="form-control mb-3">
                          <table id="tabelaAutores" class="table table-striped table-hover table-light table-bordered text-center">
                          <thead>
                            <tr>
                              <th>Nome</th>
                              <th>Nacionalidade</th>
                              <th>Ano Nascimento</th>
                              <th></th>
                            </tr>
                          </thead>
                          <tbody></tbody>
                        </table>
                    </div>
                </div>      
              </div>      
          </div>  

      </div>

      <div id="secao_livros" class="secao-conteudo">
          <div class="header_conteudo">
              <h2>
                <i class="fa-solid fa-book-open"></i>
                Livros
              </h2>
          </div>
          
          <div class="body_conteudo mt-4">
              <div class="container">
                      <!-- Cadastro de Livro -->
                  <div class="box">
                      <h2 class="text-center">Novo Livro</h2>
                      <form id="formLivro">
                          <input type="text" placeholder="Título" id="titulo" required />
                          <select name="selectAutores" id="selectAutores"> 
                              <option value="" disabled selected> --- Selecione o autor:</option>
                          </select>
                          <input type="number" placeholder="Ano" id="ano" required />
                          <input type="text" placeholder="Gênero" id="genero" required />
                          <button type="submit">Cadastrar Livro</button>
                      </form>
                  </div>
              

                <!-- Listagens -->
                 <div class="box_listagem">
                    <h2 class="text-center"> Livros Cadastrados</h2>
                    <div class="listagem" id="listaLivros">
                        <input type="text" id="filtroLivro" placeholder="Filtrar por titulo, autor ou genero" class="form-control mb-3">
                        <table id="tabelaLivros" class="table table-striped table-hover table-light table-bordered text-center mt-4">
                            <thead>
                            <tr>
                                <th>Título</th>
                                <th>Autor</th>
                                <th>Ano</th>
                                <th>Gênero</th>
                            </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div> 
                </div>      
              </div>      
          </div>    
      </div>

      <div id="limpar-dados" class="secao-conteudo">
         <div id="limpar" class="cecao-conteudo">
          <h2>Limpar Livros Cadastrados</h2>
          <div id="limparLivros"></div>
          <button type="button" id="limparDadosLivros">Limpar Banco de Livros</button>

          <h2>Limpar  todos dos dados</h2>
          <div id="limpraTudo"></div>
          <button type="button" id="limparTudo">Deletar Todos os dados</button>

        </div>
      </div>


      <!-- Modal de Edição usuário -->
      <div class="modal fade" id="modalEditarUsuario" tabindex="-1" aria-labelledby="modalEditarLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="modalEditarLabel">Editar Usuário</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
            </div>
            <div class="modal-body">
              <form id="formEditarUsuario">
                <input type="hidden" id="indexUsuario">
                <div class="mb-3">
                  <label for="matriculaUsuario" class="form-label">Matrícula</label>
                  <input type="text" class="form-control" id="matriculaUsuarioModal" required>
                </div>
                <div class="mb-3">
                  <label for="nomeUsuario" class="form-label">Nome</label>
                  <input type="text" class="form-control" id="nomeUsuarioModal" required>
                </div>
                <button type="submit" class="btn btn-primary">Salvar</button>
              </form>
            </div>
          </div>
        </div>
      </div>

      <!-- Modal de Edição Autor -->
      <div class="modal fade" id="modalEditarAutor" tabindex="-1" aria-labelledby="modalEditarLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="modalEditarLabel">Editar Autor</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
            </div>
            <div class="modal-body">
              <form id="formEditarAutor">
                <input type="hidden" id="indexAutor">
                <div class="mb-3">
                  <label for="nomeAutor class="form-label">Nome</label>
                  <input type="text" class="form-control" id="nomeAutorModal" required>
                </div>
                <div class="mb-3">
                  <label for="nacionalidadeAutorModal class="form-label">Nacionalidade</label>
                  <input type="text" class="form-control" id="nacionalidadeAutorModal" required>
                </div>
                <div class="mb-3">
                  <label for="anoNascimentoAutorModal class="form-label">Ano Nascimento</label>
                  <input type="text" class="form-control" id="anoNascimentoAutorModal" required>
                </div>
                <button type="submit" class="btn btn-primary">Salvar</button>
              </form>
            </div>
          </div>
        </div>
      </div>

          <!-- Modal de Edição Livros -->
      <div class="modal fade" id="modalEditarLivro" tabindex="-1" aria-labelledby="modalEditarLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="modalEditarLabel">Editar Livro</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
            </div>
            <div class="modal-body">
              <form id="formEditarLivro">
                <input type="hidden" id="indexLivro">
                <div class="mb-3">
                  <label for="tituloLivro" class="form-label">Titulo</label>
                  <input type="text" class="form-control" id="tituloLivroModal" required>
                </div>
                <div class="mb-3">
                  <label for="autorLivroModal class="form-label">Autor</label>
                  <input type="text" class="form-control" id="autorLivroModal" required>
                </div>
                <div class="mb-3">
                  <label for="anoLivroModal class="form-label">Ano</label>
                  <input type="text" class="form-control" id="anoLivroModal" required>
                </div>
                <div class="mb-3">
                  <label for="generoLivroModal class="form-label">Genero</label>
                  <input type="text" class="form-control" id="generoLivroModal" required>
                </div>
                <button type="submit" class="btn btn-primary">Salvar</button>
              </form>
            </div>
          </div>
        </div>
      </div>

      <!-- Modal de Empréstimo -->
      <div class="modal fade" id="modalEmprestimo" tabindex="-1">
        <div class="modal-dialog">
          <form id="formEmprestimo" class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Emprestar Livro</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
              <input type="hidden" id="indexLivroEmprestimo">
              <div class="mb-3">
                <label for="matriculaUsuario" class="form-label">Matrícula do Usuário</label>
                <input type="text" class="form-control" id="matriculaUsuario" required>
              </div>
            </div>
            <div class="modal-footer">
              <button type="submit" class="btn btn-primary">Confirmar Empréstimo</button>
            </div>
          </form>
        </div>
      </div>

       <!-- Modal de Histórico emprestimos -->
      <div class="modal fade" id="modalHistoricoEmprestimo" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                 <div class="modal-header">
                    <h5 class="modal-title" id="modalHistoricoTitulo">Histórico de Emprestimos</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                  </div>
                  <div class="modal-body">
                      <pre id="modalHistoricoTexto"></pre>
                  </div>
            </div>
           
        </div>
      </div>

  </div>   

<script type="module" src="src/main.js"></script>
</body>
</html>